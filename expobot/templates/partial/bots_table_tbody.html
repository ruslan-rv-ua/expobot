{% macro status_to_table_class(status)%}
    {%- if status == "running" -%}table-success
    {%- elif status == "stopped" -%}table-danger
    {%- elif status == "error" -%}table-warning
    {%- elif status == "paused" -%}table-info
    {%- endif -%}
{% endmacro %}
{% set RELOAD_EVERY_SECONDS=5 %}
<tbody id="bots-table-tbody"
       hx-trigger="every {{ RELOAD_EVERY_SECONDS }}s"
       hx-get="/partial"
       hx-swap="outerHTML">
    {%- for bot in bots -%}
        <tr class="{{ status_to_table_class(bot.status)}}">
            <th scope="row" ">
                <a href="/bot/{{ bot.id }}">{{ bot.name }}</a>
            </th>
            <td>{{ bot.status | upper }}</td>
            <td>{{bot.exchange_account}} {{ bot.symbol }}</td>
            <td>{{ bot.total_level_height * 100 }} %</td>
            <td>{{ bot.description }}</td>
            <td>
                <a href="/bot/{{ bot.id }}/run" class="btn btn-success">Run</a>
                <a href="/bot/{{ bot.id }}/pause" class="btn btn-primary">Pause</a>
                <a href="/bot/{{ bot.id }}/stop" class="btn btn-danger">Stop</a>
            </td>
        </tr>
    {%- endfor -%}
</tbody>
